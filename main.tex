\documentclass[11pt]{amsart}
\input{commands.tex}
\usepackage[textsize=tiny]{todonotes}
\title{The topology of algebraic manifolds}
\author{Thomas Brazelton}
\date{Last compiled: \today}
\begin{document}

\begin{abstract}
Course notes from MATH231b: algebraic topology II, taught at Harvard in Spring 2026.
\end{abstract}

\maketitle

\begin{center}
    \url{https://github.com/tbrazel/math231br}
\end{center}


\setcounter{section}{-1}
\section{About}

These notes are from a MATH213BR, a second-semester graduate algebraic topology class with a free-floating curriculum taught at Harvard in spring of 2026. This particular course is modeled off of Hirzebruch's amazing 1962 text \emph{Neue topologische Methoden in der algebraischen Geometrie}. Theorem counters and page references refer to the 1995 reprinting in English \cite{Hirzebruch}.

\subsection{Overview}

\textbf{Part 1}: We begin with the theory of sheaves of sets and discrete groups on topological spaces, developing their cohomology and comparing it with singular and de Rham cohomology. We continue with fiber bundles and develop their basic theory. We then discuss vector bundle theory and Chern and Pontryagin classes. 

\textbf{Part 2}: We discuss oriented and complex cobordism, genera, the $L$-genus and Todd genus, and the index of a $4n$-manifold. We prove Hirzebruch's signature theorem as well as Riemann-Roch for algebraic manifolds.

\subsection{References}
Aside from the main text, which we deviate from at various points, some other references which have informed the presentation here include:
\begin{itemize}
    \item \emph{sheaf theory}: Godement's original work \cite{godementTopologieAlgebriqueTheorie1958}, and of course Serre's \cite{FAC}
    \item \emph{fiber bundles}: Steenrod's 1951 printing \cite{Steenrod-fibre-bundles}
    \item \emph{K\"{a}hler manifolds}: Michael Wong's 2013 \href{https://wiki.epfl.ch/kaehler2013/notesexercises}{course notes}
    \item \emph{cobordism}: Dan Freed's notes \cite{Freed-bordism} and Haynes Miller's notes \cite{millerNotesCobordism}
    \item \emph{genera}: Hirzebruch's book \cite{MMF}
    \item \emph{complex manifolds}: Griffiths and Harris \cite{griffithsPrinciplesAlgebraicGeometry1978}
\end{itemize}

\subsection{Acknowledgements}

Thank you to Zo\"{e} Batterman, Vincent Costa, and Gabe Ong for offering suggestions and changes to the notes. Thanks to Gage Martin and Sidhanth Raman for helpful conversations in preparing this class.

\section{Sheaves}

The definition of a \emph{sheaf} in Hirzebruch is perhaps a bit different from what we're used to. He wants to think of sheaves as \emph{living over} a space $X$, whereas we might be comfortable thinking about sheaves as local data across a space. We'll see how these perspectives are equivalent.

\begin{definition} A \emph{sheaf of abelian groups} over a topological space $X$ is a topological space $S$ with the data of a surjective continuous map $\pi \colon S \to X$, for which
\begin{itemize}
    \item $\pi$ is a \emph{local homeomorphism}, meaning for every point $s\in S$ there is an open neighborhood $U\ni s$ for which
    \begin{align*}
        \pi_{|U} \colon U \to \pi(U)
    \end{align*}
    is a homeomorphism
    \item for every $x\in X$, the \emph{stalk} $S_x := \pi^{-1}(x)$ has the structure of an \emph{abelian group}
    \item the abelian group structure on $S_x$ is \emph{continuous in $x$}. Precisely, forming inverses in each fiber defines a continuous function:
    \begin{align*}
        S &\to S \\
        s &\mapsto -s,
    \end{align*}    
and if we denote by $S \times_X S$ the subspace
    \begin{align*}
        S \times_X S := \left\{ (s_1,s_2) \in S \times S \colon \pi(s_1)=\pi(s_2) \right\} \subseteq S \times S,
    \end{align*}
    then the operation of addition is a continuous function:
    \begin{align*}
        S \times_X S &\to S \\
        \left( (\alpha,x), (\beta,x) \right) &\mapsto (\alpha + \beta,x).
    \end{align*}
\end{itemize}
\end{definition}

We should think about a sheaf of abelian groups as being a space where we can do abelian group operations (addition, subtraction), but where the abelian group in which we're working is \emph{changing} according to the topology of $X$.

\begin{example}[Zero sheaf] The identity map $X \to X$ can be considered a sheaf, where the abelian group structure on each stalk is just the trivial group with one element.
\end{example}


\begin{example}[Constant sheaves]
\label{exa:constant-sheaf-espace-etale}
For any abelian group $A$ and any space $X$, we get a \emph{constant sheaf}
\begin{align*}
    X \times A \to X,
\end{align*}
where $\pi$ is the projection onto $X$. When $A = \left\{ 0 \right\}$, this recovers the zero sheaf above.
\end{example}

\begin{example}[Skyscraper sheaves]
\label{exa:skyscraper-sheaves}
If we want build a sheaf with some \emph{prescribed} fiber $A$ over a point $x\in X$ (we want a name for the map of the inclusion of a point, so let's call it $i \colon \{x\} \to X$), we have an nice way to do this -- namely, we can take the discrete set underlying the abelian group $A$, and build the space which we call $i_\ast A$, defined as
\begin{align*}
    i_\ast A = \frac{X \times A}{(y,a_1)\sim (y,a_2)\text{ for }y\ne x}.
\end{align*}
That is, we identify all the points of $A$ together over every point in $X$ \emph{except} our specified point $x$. We call it a \emph{skyscraper sheaf} because it has this big tall stalk at $x$ and is flat everywhere else. This space comes equipped with a projection back to $X$ which is a continuous local homeomorphism, and the abelian group structure on the stalks over points other than $x$ are just the structure on the one-element group. Note that this resulting space $i_\ast A$ is very much not Hausdorff.
\end{example}


\begin{example}[{c.f.~\cite[1.3]{Bredon-sheaf}}] The \emph{line with doubled origin} is the skyscraper sheaf over $\R$ defined by $i_\ast (\Z/2)$, where $i \colon \{0\}\hookto \R$ is the inclusion of the origin.
\end{example}


\begin{notation} For any sheaf of abelian groups $\pi \colon S \to X$, we have the so-called \emph{zero section} $z \colon X \to S$, sending each element $x\in X$ to the zero element in $S_x$. This map is continuous and has the property that
\begin{align*}
    \pi\circ z = \id_X.
\end{align*}
\end{notation}

\begin{exercise}\label{exer:image-zero-section-is-open}
Let $\pi \colon X \to S$ be any sheaf and $z \colon X \to S$ the zero section. Then $\im(z) \subseteq S$ is open.
\end{exercise}


\begin{example} The projection $\R \to S^1$ cannot be given the structure of a sheaf of abelian groups.
\end{example}
\begin{proof} We're tempted to say it looks like a sheaf, since each fiber looks like $\Z$, however it turns out there is no way to endow these fibers simultaneously with the additive structure of the integers. Suppose towards a contradiction there was. Then composing with the zero section, we get a composite which is the identity:
\begin{align*}
    S^1 \xto{z} \R \xto{\pi} S^1.
\end{align*}
Applying $\pi_1$ or $H_1$ for instance, we have that the identity on $\Z$ factors through zero, which is a contradiction.
\end{proof}

\begin{remark} Just as we have a sheaf of abelian groups, we can have a sheaf with other structures as well --- we could have a sheaf of $R$-modules for instance. All that's important is that:
\begin{enumerate}
    \item our structure is a set with extra data
    \item we have that data in every stalk
    \item the data varies continuously in the stalks
\end{enumerate}
\end{remark}

\begin{definition} A \emph{morphism of sheaves} between $\pi \colon S\to X$ and $\til{\pi} \colon \til{S} \to X$ is a continuous map $f \colon S \to \til{S}$ satisfying the following properties:
\begin{itemize}
    \item $\til{\pi}\circ f = \pi$, that is, we have a commutative diagram
\[ \begin{tikzcd}
    S\ar[dr,"\pi" below left]\ar[rr,"f"] &  & \til{S}\ar[dl,"\til{\pi}" below right]\\
     & X & 
\end{tikzcd} \]
    Note this implies that $f$ restricts to a map on each stalk, that is, we get maps $f_x \colon S_x \to \til{S}_x$ for each $x\in X$
    \item for each $x\in X$, the induced map on stalks
    \begin{align*}
        f_x \colon S_x \to \til{S}_x
    \end{align*}
    is an abelian group homomorphism.
\end{itemize}
\end{definition}

\begin{exercise} Show that every morphism between sheaves of abelian groups is a local homeomorphism.
\end{exercise}

% The opposite of the zero section, in some sense, is a section which is nowhere zero.
% \begin{definition} A \emph{nonvanishing global section} of a sheaf $\pi \colon S \to X$ is a section $s \colon X \to E$.....\todo{need a point to this. can we say anything interesting about the existence or non-existence of nonvanishing global sections? I want to use the existence of one to make an isomorphism with another sheaf. idk how to do this immediately though}
% \end{definition}


\begin{definition}\label{def:injective-surjective-mononomorphism-of-sheaves} 
We say a morphism of sheaves $f \colon S \to \til{S}$ is:
\begin{enumerate}
    \item \emph{injective} if each $f_x$ is injective
    \item \textit{surjective} if each $f_x$ is surjective.
\end{enumerate}
We say a sequence of maps of sheaves
\begin{align*}
    S \xto{f} T \xto{g} U
\end{align*}
is \emph{short exact} if $S_x \xto{f_x} T_x \xto{g_x} U_x$ is a short exact sequence of abelian groups for every $x\in X$.
\end{definition}

\subsection{Sheaves and presheaves}

Given any sheaf $S\to X$, we can ask when we have \emph{sections}, which are maps $X \to S$ that are right inverses to the projection map $\pi$.

\begin{definition} We define the set of \emph{sections} by
\begin{align*}
    \Gamma(X,S) := \left\{ s \colon X \to S \text{ continuous} \mid \pi\circ s = \id_X \right\}.
\end{align*}
Note that $\Gamma(X,S)$ is an abelian group by adding sections pointwise. The zero element of $\Gamma(X,S)$ is the zero section.
\end{definition}

Note that we don't need sections to be defined on all of $X$ --- we could look at sections defined on subspaces. For instance if $U \subseteq X$ is an open subspace, we can define
\begin{align*}
    \Gamma(U,S) := \left\{ s \colon U \to S \mid \pi\circ s = \id_U \right\}.
\end{align*}
%
If $V \subseteq U$ is an open subspace, there is a natural \emph{restriction} map
\begin{align*}
    \res_V^U \colon \Gamma(U,S) &\to \Gamma(V,S) \\
    s &\mapsto s_{|V}.
\end{align*}
%
\begin{notation} For $X$ a topological space, we denote by $\Open(X)$ the category whose objects are open subspaces of $X$ and whose morphisms are inclusions. Then the constructions above tell us that $\Gamma(-,S)$ defines a functor
\begin{align*}
    \Gamma(-,S) \colon \Open(X)^\op \to \Ab.
\end{align*}
This is called the \emph{presheaf} associated to $S$.
\end{notation}

\begin{terminology} If $S \to X$ is a sheaf, an element of $\Gamma(X,S)$ will be called a \emph{global section}. This is to indicate it is defined globally, i.e. everywhere on $X$, in contrast with sections only defined locally on some open subspace $U$.
\end{terminology}

Let's think about what structures of $S$ we can recover from its presheaf.

\begin{question} Can we recover the stalk $S_x$ from the presheaf $\Gamma(-,S)$?
\end{question}

We can't just take $\Gamma$ and evaluate it on the one-point set $\left\{ x \right\}$ since this won't be open in most reasonable topological spaces. Instead, we can take elements in $\Gamma(U,S)$ for any $U \ni x$, and glue sections together along restriction of open sets containing $x$. This is called a \emph{colimit} (in classical terminology, a \emph{direct limit}):
\begin{align*}
    \colim_{U\ni s}\Gamma(U,S).
\end{align*}
%
\begin{proposition}\label{prop:colimit-sections-is-stalk}
For every sheaf of abelian groups $S \to X$ and every $x\in X$, the canonical ``evaluation at $x$'' map
\begin{align*}
    \ev_x \colon \colim_{U\ni s} \Gamma(U,S) \to S_x
\end{align*}
is an isomorphism of abelian groups.
\end{proposition}
\begin{proof} If $s_1(x) = s_2(x) = a$, then since $\pi$ is a local homeomorphism, there is some small neighborhood $V \ni a$ on which $\pi_{|V} \colon V \to \pi(V)$ is a local homeomorphism. In particular since $s_{1|\pi(V)}$ and $s_{2|\pi(V)}$ are both sections (right inverses) of $\pi_{|V}$ they must agree. Since they agree on a sufficiently small open neighborhood around $x$, they agree in the colimit. This establishes injectivity.

To see surjectivity, if $a\in S_x$, we want to create a section $s$ defined in a neighborhood $U$ of $x$ for which $s(x) = a$. We again leverage the fact that $\pi$ is a local homeomorphism to find some neighborhood $V \ni a$ for which $\pi \colon V \xto{\sim} \pi(V)$ is a homeomorphism. Then the inverse to this map satisfies $\pi^{-1}(x) = a$.
\end{proof}
This gives us an alternative way to look at stalks. Now we know we can recover stalks from the underlying presheaf.

\begin{question}\label{ques:recover-sheaf-from-presheaf} 
Can we recover the sheaf $S$ from the presheaf $\Gamma(-,S)$?
\end{question}

That is, suppose someone hands you a functor
\begin{align*}
    F \colon \Open(X)^\op \to \Ab,
\end{align*}
and tells you it is of the form $\Gamma(-,S)$ for some sheaf $S$, but they don't tell you what $S$ is. Can you rebuild $S$? Let's denote by
\begin{align*}
    F_x := \colim_{U\ni x} F(U)
\end{align*}
the stalk at a point $x\in X$. Then we know how to construct the sheaf as a \emph{set}, namely it is
\begin{align*}
    \amalg_{x\in X} F_x \to X.
\end{align*}
The question then becomes how to topologize the thing on the left. Each $F_x$ has the discrete topology as an abelian group, and the disjoint union has the discrete topology a priori -- but if we accept this topology, then in general we won't have the property that the projection map is a local homeomorphism. So we need to hunt for a different topological structure. The trick to finding it is that we know how to write down sections, and we want to \emph{force sections to be continuous}.

We denote by
\begin{align*}
    \germ_x \colon F(U) \to F_x
\end{align*}
the structure map (part of the data of the colimit) to the stalk (c.f.~\Cref{prop:colimit-sections-is-stalk}; we called this an evaluation map earlier when we knew $F(U)$ was comprised of actual sections. We don't know that a priori now). For any $s\in F(U)$, we then get a composite
\begin{align*}
    U &\to \amalg_x F_x \\
    x &\mapsto \germ_x(s).
\end{align*}
This should be like a section of the sheaf, so we want it to be continuous. We want the preimage of opens to be open, and since $U$ is indeed open, an easy way to try to force continuity is to ask for the image of this map above to be open.

\begin{definition}\label{def:basis-for-topology-on-espace-etale} 
We define a \emph{basis}\footnote{See \cite[II\S13]{Munkres} if this is an unfamiliar term.} for a topology on $\amalg_x F_x$ by
\begin{align*}
    [(s,U)] := \left\{ \germ_x(s) \mid x\in U \right\}
\end{align*}
for any $s\in F(U)$.
\end{definition}

It now suffices to verify that this satisfies the axioms for a basis:
\begin{itemize}
    \item[\textbf{B1}] \emph{The basis elements cover our space}: Take some $x\in X$ and $a\in F_x$. We want to argue there is a basis element containing it. By the construction of $F_x$ as a colimit of abelian groups, there is some $V \in \Open(X)$ and some $s\in F(V)$ for which $\germ_x(s) = a$. That is, by definition, $a\in \left[ (s,V) \right]$.
    \item[\textbf{B2}] \emph{Common refinement}: Suppose we have $[(s_1,U_1)]$ and $[(s_2,U_2)]$ and $a\in \left[ (s_1,U_1) \right] \cap \left[ (s_2,U_2) \right]$. Then we want to find another basis element contained in the intersection of these two and containing $a$. Let $x = \pi(a)$, then $x\in U_1 \cap U_2$ by definition. So we can look in $F(U_1\cap U_2)$. By the construction of the colimit, since we have a commutative diagram
\[ \begin{tikzcd}
    F(U_1)\ar[dr]\ar[drr] &  & \\
     & F(U_1\cap U_2)\rar & F_x\\
    F(U_2)\ar[ur]\ar[urr] &  & 
\end{tikzcd} \]
since $\germ_x(s_1) = \germ_x(s_2)$, their images in $F(U_1\cap U_2)$ agree. Call that image $s$. Then we have that
\begin{align*}
    a\in \left[ (s,U_1\cap U_2) \right] \subseteq \left[ (s_1,U_1) \right]\cap \left[ (s_2,U_2) \right] \subseteq \amalg_{x\in X}F_x.
\end{align*}
\end{itemize}
So we've checked that we get a basis for a topology.

\begin{remark} In general, the sheaf $\amalg_{x\in X}F_x$ constructed in this way will be very far from being Hausdorff (\cite[p.~3]{Bredon-sheaf}, \cite{FAC}).
\end{remark}

It turns out we have in fact built a sheaf! That is, the projection map will be a local homeomorphism.

\begin{lemma} Let $F \colon \Open(X)^\op \to \Ab$ be a presheaf, and topologize $\amalg_{x\in X} F_x$ by giving it the basis of \Cref{def:basis-for-topology-on-espace-etale}. Then the natural projection
\begin{align*}
    \pi \colon \amalg_{x\in X} F_x \to X
\end{align*}
is a local homeomorphism.
\end{lemma}
\begin{proof} Pick any $a\in F_x$. Then by construction, there exists some open set $U$ and some $s\in F(U)$ so that $\germ_x(s) = a$. In particular, we claim the map
\begin{align*}
    \pi_{|[(s,U)]} \colon [(s,U)] &\to U
\end{align*}
is a local homeomorphism. It is clearly continuous, and it admits a continuous inverse given by $s \colon U \to F(U) \to [(s,U)]$ by construction.
\end{proof}

We now have a way to build a sheaf out of a presheaf! So we have a way to go from presheaves to sheaves. I think we've answered \Cref{ques:recover-sheaf-from-presheaf}, which was if someone hands you a presheaf $F \colon \Open(X)^\op \to \Ab$, and tells you it is of the form $\Gamma(-,S)$ for some sheaf $S$, then we can reconstruct $S$.

Let's now give a slightly different question pandering to a more cynical worldview. Suppose someone hands you a presheaf $F \colon \Open(X)^\op \to \Ab$ and tells you it is the presheaf of sections attached to some sheaf, but we don't believe them. How might we argue that this cannot come from any sheaf?

Here's an idea of how we might find a way to disagree:
\begin{itemize}
    \item if $F$ was of the form $\Gamma(-,S)$ for some $S$, then $F(U)$ would be equal to $\Gamma(U,S)$
    \item we now know how we would reconstruct $S$: it is $\amalg_{x\in X}F_x$ equipped with the topology defined in \Cref{def:basis-for-topology-on-espace-etale}
    \item so we can check: is the canonical map $F(U) \xto{\theta_U} \Gamma(U, \amalg_x F_x)$ a bijection?
\end{itemize}
Let's recall how this map $\theta_U$ worked --- each $s\in F(U)$ determines a function $U \to \amalg_{x\in U}F_x$ given by
\begin{equation}\label{eqn:theta-U}
\begin{aligned}
    \theta_U \colon F(U) &\to \Gamma(U,\amalg_x F_x) \\
    s &\mapsto \left[ x \mapsto \germ_x(s) \right].
\end{aligned}
\end{equation}
If $\theta_U$ is not a bijection for some open $U$, then $F$ cannot have come from a sheaf. So let's see when $\theta_U$ could fail to be a bijection - that is, when is it injective and when is it surjective? We phrase the following as lemmas, although there's no mathematical content, it's just unwinding definitions.

\begin{lemma}[When is $\theta_U$ a monomorphism?]
\label{lem:theta-monomorphism} 
Let $U,\theta_U$ as above. Let's first see what it means for $\theta_U$ to send two elements in $F(U)$ to the same thing in $\Gamma(U,\amalg_{x\in X}F_x)$.
\begin{enumerate}
    \item We have that $\theta_U(s) = \theta_U(t)$ if and only if $s$ and $t$ \emph{agree locally} -- that is, for every $x\in U$ there is some open $V\ni x$ for which $s_{|V} = t_{|V}$.
\end{enumerate}
This tells us the content of being a monomorphism is that ``being equal locally implies you are equal.'' In other words:
\begin{enumerate}
\setcounter{enumi}{1}
    \item $\theta_U$ is a monomorphism if and only if, for every $x\in X$, if there is a neighborhood $V\ni x$ with $s_{|V} = t_{|V}\in F(V)$, then $s=t$ in $F(U)$.
\end{enumerate}
As the $V$'s chosen this way form an open cover of $U$, we can reword this as:
\begin{enumerate}
\setcounter{enumi}{2}
    \item\label{locality} $\theta_U$ is a monomorphism if and only if, for every open cover $\left\{ U_i \right\}$ of $U$, if $s,t\in F(U)$ satisfies $s_{|U_i} = t_{|U_i}$ for all $i$, then $s=t$.
\end{enumerate}
\end{lemma}
\begin{proof} For the first point, we have that $\theta_U(s) = \theta_U(t)$ if and only if the functions $u \mapsto \germ_u(s)$ and $u \mapsto \germ_u(t)$ agree, that is, only if $\germ_u(s) = \germ_u(t)$ in $F_u$ for all $u\in U$. By construction of $F_u$ as a colimit, we have that there must exist some neighborhood $V\ni u$ for which $s_{|V} = t_{|V}$ in $F(V)$. The second point is a rephrasing of the first, and (\ref{locality}) is a rephrasing of the second point.
% For the forward direction of (\ref{locality}), suppose $\theta_U$ is a monomorphism, and take an open cover $\left\{ U_i \right\}$ so that $s_{|U_i}= t_{|U_i}$ for all $i$. Then each $x\in U$ is contained in some $U_i$, so it plays the role of the $V$ in the previous point, hence $s=t$ in $F(U)$.
\end{proof}



\begin{lemma}[When is $\theta_U$ an epimorphism?]
\label{lem:theta-epimorphism}
Let $U,\theta_U$ be as above, and suppose \Cref{lem:theta-monomorphism}(\ref{locality}) holds. We want to know when $\theta_U$ hits some element $a\in \Gamma(U,\amalg_{x\in X}F_x)$
\begin{enumerate}
    \item Let $a\in \Gamma(U,\amalg_{x\in X}F_x)$. Then for each $x\in U$, we have that $a(x) \in F_x$. By the construction of $F_x$ as a colimit, this means there is some open neighborhood $U_x \ni x$, and some element $s_x \in F(U_x)$ so that, under the structure map $F(U_x) \to F_x$, we have that $s_x \mapsto a(x)$. Another way to say that is that the section $\theta_{U_x}(s_x)$ agrees with $a$ at the point $x$. Since $\pi$ is a local homeomorphism, we have that $a$ and $\theta_{U_x}(s_x)$ must agree on some open neighborhood $V_x \ni x$ which, without loss of generality, we may assume to be a subspace of $U_x$. So we have that $\theta_{V_x}(s_x) = a_{|V_x}$ and $\theta_{V_y}(s_y) = a_{|V_y}$, so under restriction we ge
\begin{align*}
        \theta_{V_x \cap V_y}(s_x) = a_{V_x \cap V_y} =  \theta_{V_x\cap V_y}(s_y).
    \end{align*}
    If we assumed that the $\theta$'s were injective, \Cref{lem:theta-monomorphism}(\ref{locality}), this says that
    \begin{align*}
        s_{x|V_x \cap V_y} = s_{y | V_x \cap V_y}.
    \end{align*}
    And we have that $a$ is in the image of $\theta_U$ if and only if there is some $s\in F(U)$ so that $s_{|V_x} = s_x$ for each $x\in U$. In other words, $\theta_U$ is surjective if, any time locally defined sections agree on overlaps, there is a section defined on all of $U$ restricting to them.
    \item\label{gluing} With the hypotheses above, we have that $\theta_U$ is surjective if and only if, for every cover $\left\{ U_i \right\}_{i\in I}$ of $U$, and elements $s_i \in F(U_i)$ satisfying $s_{i | U_i\cap U_j} = s_{j|U_i \cap U_j}$, there exists an element $s\in F(U)$ so that $s_{|U_i} = s_i$ for each $i$.
\end{enumerate}
\end{lemma}

So what conditions were essential to showing that $\theta_U$ was a bijection for every $U$? It was \Cref{lem:theta-monomorphism}(\ref{locality}), which tells us if sections agree \emph{locally} then they agree \emph{globally}, and \Cref{lem:theta-epimorphism}(\ref{gluing}), which told us that sections defined locally and agreeing on overlaps can be \emph{glued} together to get a global section. These two conditions are called \emph{locality} and \emph{gluing}. Let's summarize our observations:

\begin{theorem} A presheaf $F \colon \Open(X)^\op \to \Ab$ is the presheaf of sections attached to a sheaf if and only if the two conditions hold:
\begin{itemize}
    \item[\textbf{Sh1}] \textit{(Locality)} For any open set $U \subseteq X$ and any open cover $\left\{ U_i \right\}_{i\in I}$ of $U$, if $s,t\in F(U)$ satisfy $s_{U_i} = t_{U_i}$ for each $i \in I$, then $s=t$. Phrased differently, the map
    \begin{align*}
        F(U) \to \prod F(U_i)
    \end{align*}
    is injective.

    \item[\textbf{Sh2}] \textit{(Gluing)} If $\left\{ U_i \right\}_{i\in I}$ is an open cover of $U$, and we have elements $s_i \in F(U_i)$ for each $i$ so that $s_{i|U_i\cap U_j} = s_{j|U_i\cap U_j}$ for all $i,j$, then there exists some $s\in F(U)$ so that $s_{|U_i} = s_i$ for each $i$. Phrased differently, $F(U)$ surjects onto the equalizer of the parallel restriction maps
    \begin{align*}
        \prod F(U_i) \rightrightarrows \prod F(U_i\cap U_j).
    \end{align*}
\end{itemize}
\end{theorem}

\begin{remark} Let $E$ denote the equalizer $E = \eq \left( \prod F(U_i) \rightrightarrows \prod F(U_i\cap U_j) \right)$. By functoriality, the map $F(U) \to \prod F(U_i)$ factors through $E$, and $E \to \prod F(U_i)$ is always a monomorphism. So for presheaves of abelian groups, locality reduces to the statement that $F(U) \to E$ is injective, while gluing restricts to the statement that $F(U) \to E$ is surjective. Hence altogether the sheaf condition can be compressed to the assertion that, for any $U \subseteq X$ and any open set $\left\{ U_i \right\}$ of $U$, the sequence is an equalizer:
\begin{align*}
    F(U) \to \prod F(U_i) \rightrightarrows \prod F(U_i\cap U_j).
\end{align*}
\end{remark}


\begin{remark} In an abelian category, an equalizer of two maps $f,g \colon A \rightrightarrows B$ is the same as the kernel of their difference $A \xto{f-g} B$. So the locality and gluing conditions can be condensed into the statement that, for every open subspace $U \subseteq X$ and every open cover $\left\{ U_i \right\}$ of $U$, the sequence
\begin{align*}
    0 \to F(U) \to \prod F(U_i) \to \prod F(U_{ij})
\end{align*}
is exact, where that rightmost map is the difference of the two restrictions. If we ever want to talk about sheaves of \emph{sets} we can't do this, because subtracting two functions doesn't make sense unless they are group homomorphisms.
\end{remark}

\begin{corollary}\label{cor:espace-etale-isomorphism-of-cats} 
There is an isomorphism of categories between
\begin{align*}
    \left\{ \text{sheaves on }X \right\} \simeq \left\{ \substack{\text{the full subcategory of presheaves on }X \\ \text{ satisfying locality and gluing}} \right\}.
\end{align*}
\end{corollary}
\begin{proof} We have shown a bijection on objects, so it suffices to verify that there is also a bijection on morphisms of each type.

Let $S$ and $S'$ be sheaves. Then a map of sheaves $f \colon S \to S'$ clearly induces a map of presheaves, since any section $U \to S$ can be postcomposed with $f$ to get a section $U \to S'$, hence we get an induced map $\Gamma(U,S) \to \Gamma(U,S')$ which is easily seen to be compatible with restriction.

Conversely, suppose we have two presheaves $F,G \in \Fun(\Open(X)^\op,\Ab)$ which satisfy locality and gluing, and a morphism of presheaves $F \to G$. We want to see how this induces a morphism of sheaves $\amalg_x F_x \to \amalg_x G_x$. We first observe that, by taking colimits, there is a natural induced map on stalks $F_x \to G_x$ for every $X$, so we get a commutative diagram of \emph{sets}
\[ \begin{tikzcd}
    \amalg_{x\in X}F_x \ar[rr,"f"]\ar[dr] &  & \amalg_{x\in X}G_x\ar[dl]\\
     & X. & 
\end{tikzcd} \]
We now want to check that this induced map $f$ is actually continuous. Since we can check continuity on a basis of the target space (reference needed), we can take some $[(t,U)] \subseteq \amalg_{x\in X}G_x$ and try to see its preimage is open in $\amalg_{x\in X}F_x$. We can check that
\begin{align*}
    f^{-1}([(t,U)]) = \left\{ \germ_x(s)  \mid x\in U \text{ and } \germ_x(f\circ s) = \germ_x(t) \right\}.
\end{align*}
Pick one such point $\germ_x(s) \in f^{-1}([(t,U)])$. Since $\germ_x(f\circ s) = \germ_x(t)$, there is some open neighborhood $V \ni x$ for which $(f\circ s)_{|V} = t_{|V}$. This means every germ of $s$ over $V$ lies in the preimage of $f$, that is,
\begin{align*}
    \germ_x(s) \in [(s,V)] \subseteq f^{-1}([(t,U)]).
\end{align*}
In particular this implies that $f^{-1}([(t,U)])$ is open and therefore that $f$ is continuous.

Verifying these two assignments are inverse is immediate by construction in one direction, and is the content of $\theta_U$ being bijective in the other direction direction.
\end{proof}


\begin{remark}[Important] What we have been calling sheaves (following Hirzebruch, Bredon, Serre) are now more commonly called the \emph{espace \'etal\'e} of a sheaf, while the associated presheaf, satisfying locality and gluing, is what is known contemporarily as a sheaf. The equivalence of categories above tells us it doesn't quite matter which one we talk about, but it's important to keep in mind our definition is technically different than the modern one.
\end{remark}


\begin{remark} The big advantage now is that we can describe a sheaf \emph{in terms of its sections}! We don't even need the sections to form a sheaf, we can always construct a sheaf out of a presheaf if need be.
\end{remark}

\begin{example}[Orientation sheaf] Let $M$ be an $n$-dimensional manifold, and define a sheaf by the presheaf
\begin{align*}
    o_M \colon \Open(M)^\op &\to \Ab \\
    U &\mapsto H_n(M,M-U;\Z).
\end{align*}
We call this the \emph{orientation sheaf} of $M$ (something to check: relative homology classes satisfy locality and gluing). Then an \emph{orientation} of $M$ is exactly a global section $\omega \in \Gamma(M,o_M)$ with the property that the stalk of $\omega$ at each $x\in M$ is a generator of the abelian group $o_{M,x} = H_n(M,M-\{x\};\Z)\cong \Z$. This is just a rephrasing of \cite[pp.~233--236]{Hatcher}.
\end{example}

\begin{remark} The \'espace \'etal\'e of the orientation sheaf is \emph{not} the double cover of $M$, since this will not be a sheaf of abelian groups, only a sheaf of $\Z/2$-torsors. The \'espace \'etal\'e of $o_M$ will have fiber $\Z$ (if we are defining $o_M$ by homology with integral coefficients) and will be the infinite-sheeted cover corresponding to the orientation character $\pi_1(M) \to \Aut(\Z) = \Z/2$ given by the first Stiefel-Whitney class. We'll learn more about this later on.
\end{remark}

\subsection{Digression: big and small sites}

To briefly tie what we've been doing into the language of Grothendieck topologies, we have the slice category $\Top_{/X}$ of spaces over $X$, which comes equipped with a Grothendieck topology given by open subsets. We could call $\Top_{/X}$ the \emph{big site}, and in this terminology $\Open(X) \subseteq \Top_{/X}$ is the \emph{small site}, which is the full subcategory on open subsets of $X$.

\subsection{Sheaves of functions} The following is a space-level analogue of the idea that representable presheaves are sheaves.

\begin{example}[Representable sheaves]
\label{exa:representable-sheaves}
Let $X$ and $Y$ be any spaces. Then the assignment
\begin{align*}
    \Open(X)^\op &\to \Set \\
    U &\mapsto \Hom_\Top(U,Y)
\end{align*}
is a sheaf of sets. We call this the \emph{representable sheaf} attached to $Y$, although this is maybe a slight abuse of terminology?\footnote{Technically speaking, $Y$ should be viewed as a representable sheaf on $\Top = \Top_{/\ast}$, which is the big site over the one-point space. We can pull this back along the projection $X \to \ast$ and we get a sheaf $\Hom_{\Top_{/X}}(-,X \times Y)$, which, when restricted to the small site $\Open(X)$, agrees with $\Hom_{\Top}(-,Y)$ by adjunction.}
\end{example}
\begin{proof} We just have to verify that the presheaf of functions valued in $Y$ satisfies locality and gluing, which is immediate.
\end{proof}

\begin{question} When would this be a sheaf of groups or of abelian groups? That is, when we can endow $\Hom_\Top(U,Y)$ with a group structure compatibly for all $U$. One way to insist on this is to consider $\Hom_\Top(-,Y)$ by extending its domain to all of $\Top$, and then ask for it to be valued in groups rather than sets. This is the same data (by the Yoneda lemma) as asking for $Y$ to come equipped with continuous multiplication and inversion maps which turn $Y$ into a group compatibly with its topology. This is the data of being a \emph{topological group}, which we'll define in \Cref{def:topological-group}.
\end{question}


\begin{example} Let $X$ be any space, and denote by
\begin{align*}
    \mathbb{C}_{\mathfrak{c}} \colon \Open(X)^\op \to \Ab
\end{align*}
the sheaf sending $U \subseteq X$ to the abelian group of complex-valued continuous functions $U \to \C$. This is the ``representable sheaf'' attached to $\mathbb{C}$, in the sense of \Cref{exa:representable-sheaves}. We call $\mathbb{C}_{\mathfrak{c}}$ the \emph{sheaf of germs of local complex-valued continuous functions}, following \cite[p.~23]{Hirzebruch}.
\end{example}

In general for spaces, we can take a sheaf of continuous functions valued in $\R$, in $\C$, in some other space, whatever we like. If $X$ has more structure, we can ask for these functions to respect the additional structure!

\begin{example} Let $X$ be a differentiable manifold. We denote by $\mathbb{C}_{\mathfrak{b}}$ the sheaf of local complex-valued differentiable functions.\footnote{Recall a complex-valued function is differentiable if and only if both its real and imaginary parts are.}
\end{example}

\begin{example} Let $X$ be a complex manifold. We let $\mathbb{C}_{\omega}$ denote the sheaf of local holomorphic functions. We will prefer the notation $\mathcal{O}_X$ in this class.
\end{example}

\begin{proposition}\label{prop:stalk-of-OX} 
If $X$ is any complex manifold and $p\in X$ is any point, there is an isomorphism between $\mathcal{O}_{X,p}$ and the ring of convergent power series in $n$ variables.
\end{proposition}
\begin{proof} An element of $\mathcal{O}_{X,p}$ is an equivalence class of tuple $(f,U)$ where $U \ni p$ is open and $f$ is holomorphic on $U$. By cofinality we can assume that $(U,p)$ is homeomorphic $(B,0)$ where $B$ is some open ball around the origin in Euclidean space. In particular $f$ can be identified with its Taylor series expansion on the open ball given by its radius of convergence. We note that $(f_1,U_1) \sim (f_2,U_2)$ if the Taylor series expansions of $f_1$ and $f_2$ agree in a neighborhood of $p$.
\end{proof}

\begin{example} Similarly the stalks of the sheaf $\mathcal{M}_X$ of germs of meromorphic functions are given by the ring of convergent Laurent series with finitely many negative variables (finite principal parts) \cite[p.~42]{Forster}.
\end{example}

\begin{exercise} If $X$ is a compact connected complex manifold, show that $\Gamma(X, \mathbb{C}_\omega) = \C$.
\end{exercise}

\subsection{Sheafification}

Let $\Ab(X)$ denote the category of sheaves of abelian groups. It is clearly a full subcategory of $\Fun(\Open(X)^\op,\Ab)$. Our goal is to show the following:

\begin{theorem} The category $\Ab(X)$ is a localization of $\Fun(\Open(X)^\op,\Ab)$, that is, the inclusion admits a left adjoint called \emph{sheafification}. Moreover sheafification preserves stalks.
\end{theorem}

Our goal is to define the sheafification of a presheaf $F$ over $X$. We claim we've already seen this construction, it's simply the space $\amalg_{x\in X}F_x \to X$ we built previously.

\begin{definition}\label{def:sheafification}
Let $F \colon \Open(X)^\op \to \Ab$ be a presheaf. We will define the \emph{sheafification} of $F$ to be the sheaf $F^\sharp$ defined as $\amalg_{x\in X} F_x$, topologized as in \Cref{def:basis-for-topology-on-espace-etale}.
\end{definition}

\begin{remark}\label{rmk:interpretation-of-sheafification}
We can interpret $F^\sharp(U) = \Gamma(U,\amalg_{x\in X}F_x)$ as the set of those tuples $(f_x)_{x\in U} \in \prod_{x\in U} F_x$ for which, for any $x\in U$ there exists an open neighborhood $V\ni x$ and a section $s\in F(V)$ satisfying $s_v = f_v$ for all $v\in V$ (see e.g. \cite[007X]{Stacks}).
\end{remark}

There is clearly a natural map of presheaves $F \to F^\sharp$, and we've already seen it! We called it $\theta_U$ in \Cref{eqn:theta-U}. It induces an isomorphism on stalks by definition. The thing to check is that the sheafification construction is functorial (omitted) and defines a left adjoint to the inclusion of sheaves in presheaves. Adjunction follows from the following universal property:

\begin{proposition}\label{prop:UP-of-sheafification}
Let $F\in \Fun(\Open(X)^\op,\Ab)$ and $G\in \Ab(X)$. Then any map $F \to G$ factors uniquely through $F^\sharp$.
\end{proposition}
\begin{proof} By construction there is a commutative diagram
\[ \begin{tikzcd}
    F\rar\dar & F^\sharp\dar\\
    G\rar & G^\sharp,
\end{tikzcd} \]
so it suffices to check that $G\to G^\sharp$ is an equivalence of sheaves, but this is true because it is a stalkwise isomorphism.\footnote{This wouldn't work if $G$ was just a presheaf, as although $G\to G^\sharp$ is a stalkwise isomorphism that does not imply it is an isomorphism of presheaves, only of sheaves.}
\end{proof}

\begin{exercise}[Constant sheaf]
\label{exer:constant-sheaf}
Let $A\in \Ab$. Then there is a silly presheaf on $X$ which sends every open subset $U\subseteq X$ to $A$, and every restriction map to the identity on $A$. We call this the \emph{constant presheaf} valued at $A$. We will denote by $\underline{A}$ the sheafification of this presheaf, and call this the \emph{constant sheaf} valued at $A$. By construction.
\begin{enumerate}
    \item Verify that, under the isomorphism of categories \Cref{cor:espace-etale-isomorphism-of-cats}, the constant sheaf $\underline{A}$ corresponds to the sheaf \label{exa:constant-sheaf-espace-etale} defined as $X \times A \to X$, where $A$ has the discrete topology.
    \item Show that $\Gamma(U,\underline{A})$ can be described as locally constant functions valued in $A$.
\end{enumerate}
\end{exercise}


\subsection{Subsheaves, kernels and cokernels}

\begin{notation} For a topological space $X$, we denote by $\Ab(X)$ the category of \emph{sheaves of abelian groups} on $X$, and morphisms between them. Again following the isomorphism of categories of \Cref{cor:espace-etale-isomorphism-of-cats} we're allowed to work with local homeomorphisms of abelian groups over $X$ or presheaves on $X$ satisfying the sheaf condition. So every definition and statement we make here will have two equivalent formulations in each model of sheaves. We will provide both at the start but will begin dropping one for convenience as we continue.
\end{notation}

\begin{definition}[Subsheaf] Let $F \colon \Open(X)^\op \to \Ab$ be a sheaf. We say that a sheaf $G$ is a \emph{subsheaf} of $F$ if $G(U) \le F(U)$ is a subgroup for each $U\in \Open(X)$, and for any $V \subseteq U$, the restriction map $\res_U^V \colon F(U) \to F(V)$ is equal to the restriction map $G(U)\to G(V)$ for $G$.
\end{definition}

\begin{definition}[Subsheaf, \'espace \'etal\'e model] We say that a sheaf $\pi_1 \colon S_1 \to X$ is a \emph{subsheaf} of $\pi_2 \colon S_2 \to X$ if
\begin{enumerate}
    \item $S_1 \subseteq S_2$ is an open subspace
    \item $\pi_1 = \pi_{2 | S_1}$
    \item The stalk $(S_1)_x$ is a subgroup of the stalk $(S_2)_x$ for all $x\in X$.
\end{enumerate}
\end{definition}

\begin{example}\label{exa:subsheaves-examples} Let $X$ be a complex manifold.
\begin{enumerate}
    \item We can think of subsheaves
    \begin{align*}
        \mathcal{O}_X \subseteq \mathbb{C}_\mathfrak{b} \subseteq \mathbb{C}_\mathfrak{c}
    \end{align*}
    as the subsheaves of complex valued continuous functions of differentiable, and then holomorphic sections.
    \item Let $\mathcal{M}_X$ denote the sheaf of local meromorphic sections. Then $\mathcal{O}_X \subseteq \mathcal{M}_X$ is a subsheaf, since every holomorphic function is meromorphic.

    \item Let $\mathcal{O}_X^\ast$ denote the sheaf of germs of nowhere-vanishing holomorphic functions:
    \begin{align*}
        \mathcal{O}_X^\ast(U) := \left\{ f \colon U \to \C \text{ holomorphic, and } f(p)\ne 0 \text{ for all } p\in U \right\}.
    \end{align*}
    Note that, while we have a subset inclusion $\mathcal{O}_X^\ast(U) \subseteq \mathcal{O}_X(U)$ for every $U$, this is only a subsheaf of \emph{sets}. It is not a subsheaf of groups because the group operation in $\mathcal{O}_X^\ast(U)$ is multiplicative, while in $\mathcal{O}_X(U)$ it is additive.
\end{enumerate}
\end{example}

\begin{example} For $X$ a complex manifold and $p \in X$, we have that the stalk $\mathcal{O}_{X,p}^\ast$ can be identified with the multiplicative group of convergent power series around $p$ whose constant term is nonzero (c.f.~\Cref{prop:stalk-of-OX}).
\end{example}



Just as subgroups of abelian groups are kernels of group homomorphisms, we can construct subsheaves as kernels of abelian sheaf homomorphisms.

\begin{proposition} If $f \colon A \to B$ is a morphism of sheaves over $X$, we denote by $\ker(f)$ the \emph{kernel}, defined to be the sheaf of $A$ consisting of those points $a\in A$ so that  $f_{\pi(a)}(a) = 0$ in $B_{\pi(a)}$.
\end{proposition}
\begin{proof} We have to verify this is a subsheaf. Let $K$ denote the kernel of $f$, and let's write out the diagram so we can picture it:
\[ \begin{tikzcd}
    K\ar[dr,"\pi_K" below left]\rar & A\dar["\pi_A"]\rar["f"] & B\ar[dl,"\pi_B"]\\
     & X. & 
\end{tikzcd} \]
It is clear that $\pi_K$ is just $\pi_A$ restricted to $K$ by construction, and moreover the stalks $K_x$ are subgroups of $A_x$, again by construction. So the only thing to verify is that $K \subseteq A$ is an open subspace. To see this, we note that the kernel of $f$ is the preimage of zero in $B$, which is the image of the zero section $z_B \colon X \to B$. This is open in $B$ by \Cref{exer:image-zero-section-is-open}, and $K = f^{-1}(\im(z_B))$, which will also be open since $f$ is continuous.
\end{proof}

\begin{exercise} \,
\begin{enumerate}
    \item Let $f \colon S_1 \to S_2$ be a morphism of sheaves over $X$. Give a reasonable definition of an \emph{image} subsheaf $\im(f) \subseteq S_2$.
    \item Give a reasonable definition of a \emph{cokernel} sheaf $\coker(f)$ over $f$.
    \item Prove an analogue of the first isomorphism theorem for sheaves of abelian groups over spaces.
    \item How does your first iso theorem look on stalks? (c.f.~\Cref{def:injective-surjective-mononomorphism-of-sheaves})
\end{enumerate}
\end{exercise}

This allows us to find \emph{exact sequences} of sheaves.

\begin{example} Let $\mathbb{C}_{\mathfrak{c}}^\ast$ be the sheaf of germs of locally never zero complex valued continuous functions. There is a morphism of sheaves $\exp$, defined on sections by
\begin{align*}
    \mathbb{C}_{\mathfrak{c}}(U) &\to \mathbb{C}_{\mathfrak{c}}^\ast(U) \\
    f &\mapsto \exp(2\pi i \cdot f).
\end{align*}
The kernel of this is isomorphic to the constant sheaf $\Z$, because $f$ and $f + n$ map to the same thing for any $n \in \Z$. We claim that we get a short exact sequence of sheaves
\begin{align*}
    0 \to \underline{\Z} \to \mathbb{C}_{\mathfrak{c}} \xto{\exp} \mathbb{C}_{\mathfrak{c}}^\ast \to 0,
\end{align*}
where as a reminder $\underline{\Z}$ denotes the constant sheaf at the integers (\Cref{exer:constant-sheaf}).
The fact that exponentiation is an epimorphism of sheaves is a stalkwise condition, saying that for every value $x\in X$, we can find a sufficiently small neighborhood in which we can take a branch and define $\log(z)$.
\end{example}

\begin{example} Let $X$ be any complex manifold. Let $\mathcal{O}_X \subseteq \mathcal{M}_X$ be the subsheaf of holomorphic sections inside meromorphic sections, as in \Cref{exa:subsheaves-examples}. Then we can \emph{define} the \emph{sheaf of principal parts} (see e.g. \cite[(4.2)]{gunningTopicsFunctionTheory2018}) as
\begin{align*}
    0 \to \mathcal{O}_X \to \mathcal{M}_X \to \mathcal{P}_X \to 0.
\end{align*}
\end{example}

The terminology comes from the \emph{principal part} of a meromorphic function around a pole \cite[p.~75]{steinComplexAnalysis2003}.

\begin{proposition} If $X$ is a Riemann surface, and $p\in X$ is any point, we have that $\mathcal{P}_{X,p}$ is given by the ring of finite negative Laurent expansions in a local coordinate around $p$.
\end{proposition}
\begin{proof} As taking stalks is exact, we can describe $\mathcal{P}_{X,p}$ as the cokernel of the natural map $\mathcal{O}_{X,p} \to \mathcal{M}_{X,p}$. This inclusion sits a Taylor series inside the world of convergent Laurent series, so the quotient is exactly those terms which do not come from Taylor series, i.e. the principal part of a convergent Laurent expansion.
\end{proof}

\begin{example} For $X$ a complex manifold we define the \emph{sheaf of divisors} $\Div_X$ to be the cokernel
\begin{align*}
    0 \to \mathcal{O}_X^\ast \to \mathcal{M}_X^\ast \to \Div_X \to 0.
\end{align*}
By our understanding of the stalks of the first two sheaves we can understand the stalks of the latter.
\end{example}

\begin{exercise} If $X$ is a Riemann surface, show that $\Div_{X,p} \cong \Z$ for every point $p\in X$.
\end{exercise}

\section{Sheaf cohomology}
A big result here that we won't prove is the following:

\begin{theorem} We have that $\Ab(X)$ is an abelian category.
\end{theorem}
\begin{proof} This is a standard example of an abelian category. See \cite[II\S2]{godementTopologieAlgebriqueTheorie1958} or \cite{Tohoku}.
\end{proof}

An abelian category is a setting in which we can do \emph{homological algebra}. In particular, we will be allowed to resolve sheaves by nicer sheaves, or ones which are easier to deal with in some respect.

\begin{remark} For technical reasons, we're going to restrict our attention to sheaf cohomology over paracompact spaces. This is due to the presence of partitions of unity subordinate to open covers (\Cref{thm:paracompact-partition-unity}).
\end{remark}

\begin{example}[Representability of sections]
\label{exa:ZU-sheaf}
Let $U \subseteq X$ be an open set. Then the functor
\begin{align*}
    \Gamma(U,-) \colon \Ab(X) &\to \Ab \\
    S &\mapsto \Gamma(U,S)
\end{align*}
is corepresentable, meaning there exists a sheaf we will denote by $\Z_U$ for which $\Hom_{\Ab(X)}(\Z_U,-) \cong \Gamma(U,-)$ are naturally isomorphic.\footnote{This is poor notation. Better notation is to let $j \colon U \hookto X$ denote the inclusion, and write $j_! \Z_U$.}
\end{example}
\begin{proof}
Denote by $h_U = \Hom_{\Open(X)}(-,U)$ the presheaf of sets\footnote{Note this is \emph{different} than the ``representable'' presheaf we defined in \Cref{exa:representable-sheaves}. There we looked at all continuous maps into $U$, whereas here we only want the natural inclusion of $V$ in $U$, if it exists.}
\begin{align*}
    h_U(V) = \begin{cases} \ast & V \subseteq U \\ \emptyset & V \subsetneq U. \end{cases}
\end{align*}
By the Yoneda lemma, we have a natural bijection
\begin{align*}
    \Hom_{\Fun(\Open(X)^\op,\Set)}(h_U,F) \cong F(U) \in \Set
\end{align*}
for any sheaf of sets $F$.

Let's now bootstrap to abelian groups. Let $\Z[h_U]$ be the free presheaf of abelian groups on the sheaf of sets $h_U$ --- by this we mean it is defined as
\begin{align*}
    \Z[h_U](V) = \begin{cases} \Z & V \subseteq U \\ \{0\} & V \subsetneq U. \end{cases}
\end{align*}
It is clear then that we have a natural group isomorphism
\begin{align*}
    \Hom_{\Fun(\Open(X)^\op,\Ab)} \left( \Z[h_U],F \right)\cong F(U) \in \Ab
\end{align*}
for any presheaf of abelian groups $F$. Finally if $F$ was a sheaf, then any morphism of presheaves $\Z[h_U] \to F$ factors uniquely through the sheafification of $\Z[h_U]$ by \Cref{prop:UP-of-sheafification}. We denote this by
\begin{align*}
    \Z_U := (\Z[h_U])^\sharp.
\end{align*}
It is clear now that we have a natural isomorphism $\Z_U\cong\Gamma(U,-)$ (c.f.~\cite[03CP,03CQ]{Stacks}.
\end{proof}

\begin{remark} We can describe $\Z_U(V)$ explicitly via our understanding of sheafification in \Cref{rmk:interpretation-of-sheafification} --- it is exactly given as the abelian group of locally constant functions $f \colon U \cap V \to \Z$ which extend to a locally constant function on all of $V$, but where the function satisfies $f(v) = 0$ if $v\in V \minus (U\cap V)$. This latter condition is equivalent to the statement that the support of $f$ is closed in $V$, which is often how you'll see $\Z_U(V)$ described:
\begin{align*}
    \Z_U(V) = \left\{ \substack{\text{locally constant functions } U\cap V \to \Z\\ \text{with support closed in }V} \right\}
\end{align*}
\end{remark}

Observe that if $U_1 \subseteq U_2$ then there is a natural morphism of sheaves $\Z_{U_2}\to \Z_{U_1}$. This extends to a functor
\begin{equation}\label{eqn:U-to-ZU-functor}
\begin{aligned}
    \Open(X)^\op &\to \Ab(X) \\
    U &\mapsto \Z_U
\end{aligned}
\end{equation}
We'll use this later on.


\begin{exercise} Verify the claim in \cite[1.9.2]{Tohoku} that the collection $\left\{ \Z_U \right\}_{U\in \Open(X)}$ forms a system of \emph{generators} for the category $\Ab(X)$.
\end{exercise}

\subsection{\v{C}ech cohomology of a presheaf}

Let $\mathcal{U} = \left\{ U_i \right\}_{i\in I}$ be a cover of $X$, let $F$ be a presheaf, and define
\begin{equation}\label{eqn:group-of-Cech-cochains}
\begin{aligned}
    C^q(\mathcal{U},F) = \prod_{i_0, \ldots, i_q \in I} F(U_{i_0} \cap \cdots \cap U_{i_q}).
\end{aligned}
\end{equation}
We call this the \emph{group of cochains}. We can define a \emph{coboundary map}
\begin{equation}\label{eqn:cech-coboundary-formula}
\begin{aligned}
    \delta^q \colon C^q(\mathcal{U},F) &\to C^{q+1}(\mathcal{U},F),
\end{aligned}
\end{equation}
defined as
\begin{align*}
    (\delta^q f)(i_0, \ldots, i_{q+1}) = \sum_{j=0}^{q+1} (-1)^k f(i_0, \ldots, \widehat{i_k}, \ldots, i_{q+1}).
\end{align*}
\begin{remark}\label{rmk:cech-cohomology-definition-notes} \, 
\begin{enumerate}
    \item As a remark, $f(i_0, \ldots, \widehat{i_k}, \ldots, i_{q+1})$ is naturally valued in $U_{i_0}\cap \cdots \cap U_{i_{k-1}} \cap U_{i_{k+1}}\cap \cdots \cap U_{i_{q+1}}$, but we want to think about it as being valued in $\bigcap_{j=0}^{q+1} U_{i_j}$ under the restriction map in order to form the sum above. We've chosen to suppress this restriction from the notation, but Hirzebruch includes it (c.f. \cite[p.~26]{Hirzebruch}.
    \item\label{abelian-coboundary-condition} The coboundary condition in \Cref{eqn:cech-coboundary-formula} is written additively, since we are assuming $F$ is a sheaf of abelian groups. In later contexts we might write it multiplicatively (if $F$ isn't assumed to be abelian),
\end{enumerate}
\end{remark}

%
\begin{exercise} Show that $\delta^{q+1}\circ \delta^q = 0$, so that we get a cochain complex
\begin{equation}\label{eqn:Cech-cochain-complex}
\begin{aligned}
     \cdots \to C^{q-1}(\mathcal{U},F) \xto{\delta^{q-1}} C^q(\mathcal{U},F) \xto{\delta^q} C^{q+1}(\mathcal{U},F) \xto{\delta^{q+1}} \cdots
\end{aligned}
\end{equation}
\end{exercise}

\begin{definition}\label{def:Cech-cohomology-on-cover} 
We define the \textit{Cech cohomology} of the presheaf $F$ over the cover $\mathcal{U}$ to be
\begin{align*}
    \hat{H}^q(\mathcal{U},F) = \ker(\delta^q)/\im(\delta^{q-1}).
\end{align*}
\end{definition}

\begin{example}\label{exa:s2-north-south-cover}
Consider the sphere $S^2$, equipped with an open cover $\mathcal{U} = \{U_n,U_s\}$, where $U_n$ and $U_s$ denote the northern and southern hemispheres, respectively, plus a little overlap on the equator. Let's compute the sheaf cohomology in the constant sheaf $\underline{\Z}$ which we defined in \Cref{exer:constant-sheaf}:
\begin{center} 
\input{figs/s2-cech-cover.tikz}
\end{center}
We have that:
\begin{itemize}
    \item $\check{C}^0(\mathcal{U},\underline{\Z}) = \underline{\Z}(U_n) \times \underline{\Z}(U_s)$. Since each of these open sets is connected, a locally constant function $U_n \to \Z$ is just constant -- so we get that $\underline{\Z}(U_n) \cong \Z$ by evaluation at the north pole, say, and similarly for $U_s$. Hence $\check{C}^0(\mathcal{U},\underline{\Z}) \cong \Z \times \Z$.
    \item $\check{C}^1(\mathcal{U},\underline{\Z}) = \underline{\Z}(U_n \cap U_s)$, since there is only one double overlap to consider. Again since it is connected, we get that $\check{C}^1(\mathcal{U},\underline{\Z})\cong \Z$.
    \item $\check{C}^q(\mathcal{U},\underline{\Z}) = 0$ for $q\ge2$ since there are no triple overlaps in our cover.
\end{itemize}
So our chain complex looks like
\begin{align*}
    0 \to \Z \oplus \Z \to \Z \to 0.
\end{align*}
We want to understand the differential $\delta^0$. Given $f\in \check{C}^0(\mathcal{U}, \underline{\Z})$, it consists of two functions which we'll call $f_n \colon U_n \to \Z$ and $f_s \colon U_s \to \Z$. They are both locally constant, hence constant. The differential is then of the form
\begin{align*}
    \delta^0(f) \colon U_n \cap U_s &\to \Z \\
    u &\mapsto f_n(u)-f_s(u).
\end{align*}
Altogether we get the chain complex
\begin{align*}
    0 \to \Z \oplus \Z \xto{\begin{pmatrix} 1 \\ -1 \end{pmatrix}} \Z \to 0.
\end{align*}
So we get
\begin{align*}
    \check{H}^q(\mathcal{U},\underline{\Z}) = \begin{cases} \Z & q=0 \\ \Z & q=1 \\ 0 & q\ge 2 \end{cases}
\end{align*}
\end{example}

\begin{definition}\label{def:refinement-open-cover} Let $X$ be a space, and let $\mathcal{U} = \left\{ U_i \right\}_{i\in I}$ and $\left\{ V_j \right\}_{j\in J}$ be two open covers of $X$. We say that $\mathcal{V}$ is a \emph{refinement} of $\mathcal{U}$ if for every $V\in \mathcal{V}$ there exists some $U \in \mathcal{U}$ so that $V \subseteq U$.
\end{definition}

\begin{exercise} Recall the cover $\mathcal{U}$ of the 2-sphere we constructed in \Cref{exa:s2-north-south-cover}. Find a refinement $\mathcal{V}$ of $\mathcal{U}$ for which the \v{C}ech cohomology is exactly
\begin{align*}
    \check{H}^q(\mathcal{V},\underline{\Z}) = \begin{cases} \Z & q=0 \\ 0 & q=1 \\ \Z & q=2 \\ 0 & q>2. \end{cases}
\end{align*}
\end{exercise}

\begin{definition}\label{def:covX} Let $X$ be a topological space. We denote by $\Cov(X)$ the poset (category) of open covers of $X$ under refinement. That is, an object of $\Cov(X)$ is an open cover $\mathcal{U}$ of $X$, and for any two covers $\mathcal{U},\mathcal{V} \in \Cov(X)$, we have exactly one morphism $\mathcal{V} \to \mathcal{U}$ if $\mathcal{V}$ refines $\mathcal{U}$, otherwise there are no morphisms from $\mathcal{V}$ to $\mathcal{U}$.
\end{definition}

\begin{exercise} If $X$ is a space, $F$ is a presheaf on $X$, and $\mathcal{U},\mathcal{V}$ are open covers of $X$ for which $\mathcal{V}$ is a refinement of $\mathcal{U}$, define a natural restriction morphism
\begin{align*}
    \check{H}^q(\mathcal{U},F) \to \check{H}^q(\mathcal{V},F).
\end{align*}
\textit{Hint}: You should need to make choices in your construction -- argue that the map ultimately doesn't depend on the choices you make.
\end{exercise}

In particular, the exercise above indicates that \v{C}ech cohomology is functorial in the cover. This motivates the following definition:

\begin{definition}\label{def:Cech-cohomology} 
We define the \emph{\v{C}ech cohomology} of a (pre)sheaf $F$ on $X$ by
\begin{align*}
    \check{H}^q(X,F) := \colim_{\mathcal{U}\in \Cov(X)} \check{H}^q(\mathcal{U},F).
\end{align*}
That is, it is the colimit of the \v{C}ech cohomology along all possible covers, filtered by refinement.
\end{definition}

\begin{example} On $S^1$, we can take a simple cover consisting of only all of $S^1$, letting $F=\underline{\Z}$ be the constant sheaf $\Z$. Then the \v{C}ech cochains complex for this is the chain complex $\Z[0]$ concentrated in degree zero. This gives $\check{H}^0(\mathcal{U},F) = \Z$ and vanishing cohomology elsewhere. On the other hand, we can take a cover $S^1 = U_0 \cup U_1$, where $U_0$ and $U_1$ are the upper and lower semicircle, plus a little extra so that they overlap:
\begin{figure}[H]
\begin{tikzpicture}[scale=2]
  % circle
  \draw[thick] (0,0) circle (1);

  % upper and lower "open" sets as thick arcs (leaving small gaps at left/right)
  \draw[very thick, blue!30]
    (-170:1) arc[start angle=-170, end angle=-10, radius=1];
  \draw[very thick, red!30]
    (170:1) arc[start angle=170, end angle=10, radius=1];

  % optional: lightly indicate the overlap neighborhoods near left/right
  \draw[very thick, purple!35]
    (-10:1) arc[start angle=-10, end angle=10, radius=1];
  \draw[very thick, purple!35]
    (170:1) arc[start angle=170, end angle=190, radius=1];

  % labels for the open sets
  \node[red!60] at (0,0.75) {$U_0$};
  \node[blue!60]  at (0,-0.75) {$U_1$};

  % labels for overlaps (optional)
  \node[purple!70] at (1.3,0) {$U_{01}$};
  \node[purple!70] at (-1.3,0) {$U_{01}$};

\end{tikzpicture}
\end{figure}

Note that $\check{C}^1(\mathcal{U},F) = \Z^{\times 2}$ in this instance, since $U_0 \cap U_1$ has two connected components. The chain complex here then looks like
\begin{align*}
    \check{C}^\bullet(\mathcal{U},F) : \quad\quad 0 \to \Z \oplus \Z \xto{\begin{pmatrix} 1 & -1 \\ 1 & -1\end{pmatrix}} \Z \oplus \Z \to 0 \to \cdots
\end{align*}
so we get cohomology in degrees $0$ and $1$, as expected. This is an example of how \emph{refining} the cover can detect more cohomological features.
\end{example}

\begin{proposition}\label{prop:Cech-0-is-global-sections} 
For any space $X$ and any \emph{sheaf} $F\in\Ab(X)$, we have a canonical isomorphism
\begin{align*}
    \check{H}^0(X,F) \cong \Gamma(X,F).
\end{align*}
\end{proposition}
\begin{proof} Given any open cover $\mathcal{U} = \left\{ U_i \right\}$, an element $f \in \check{H}^0(\mathcal{U},F)$ is an element $f_i \in F(U_i)$ for each $i$ (this is the condition of lying in $C^0(\mathcal{U},F)$), which lies in the kernel of $\delta^0 \colon C^0 \to C^1$. This means that $f_{i|U_i\cap U_j} = f_{j|U_i\cap U_j}$ for each $i,j$. Since $F$ is a sheaf, by gluing, the $f_i$'s glue together to give a well-defined global section $f\in \Gamma(X,F)$. This is easily seen to be an isomorphism.
\end{proof}

\begin{exercise} Verify that \v{C}ech cohomology is functorial in the sheaf, that is for any $X$ and any $q\ge 0$ we have a functor
\begin{align*}
    \check{H}^q(X,-) \colon \Ab(X) \to \Ab.
\end{align*}
\end{exercise}

Before we get to \Cref{prop:LES-Cech-cohomology-presheaves} it's worth saying some words about exactness of sheaves versus presheaves.

\begin{remark}[On exactness] By definition, a sequence of presheaves $F_1\to F_2 \to F_3$ on $X$ is exact if
\begin{align*}
    0 \to F_1(U) \to F_2(U) \to F_3(U) \to 0
\end{align*}
is an exact sequence of abelian groups for all $U \in \Open(X)$. If these are all sheaves, then we say the sequence is exact if
\begin{align*}
    0 \to (F_1)_x \to (F_2)_x \to (F_3)_x \to 0
\end{align*}
is exact for every point $x\in X$. If a sequence of sheaves is exact (when considered as presheaves) then it is still exact when considered as sheaves, e.g. by \Cref{cor:filtered-colimits-preserve-exactness} or by the phrase ``sheafification is exact.'' The converse \emph{does not hold}! Consider the short exact sequence of sheaves
\begin{align*}
    0 \to \underline{\Z} \to C^0(-,\R) \to C^0(-,S^1) \to 0.
\end{align*}
This is exact (over any space $X$) since it is exact in each fiber. However over an arbitrary space it won't be exact as a sequence of presheaves, because not every circle-valued function lifts to a real-valued function (e.g. if it has non-trivial winding number).\footnote{Indeed we can think of the winding number as measuring the failure of lifting, giving us a class in $H^1(X,\underline{\Z}) = [X,S^1]$.}
\end{remark}


\begin{proposition}\label{prop:LES-Cech-cohomology-presheaves} 
If
\begin{align*}
    0 \to F_1 \to F_2 \to F_3 \to 0
\end{align*}
is a short exact sequence \emph{of presheaves}, it induces a long exact sequence
\begin{align*}
    0 &\to \check{H}^0(X,F_1) \to \check{H}^0(X,F_2) \to \check{H}^0(X,F_3) \\
    &\to \check{H}^1(X,F_1) \to \check{H}^1(X,F_2) \to \check{H}^1(X,F_3) \\
    &\to \check{H}^2(X,F_1) \to \cdots
\end{align*}
\end{proposition}
\begin{proof}[Sketch] The first step is to show that, for any cover $\mathcal{U}$, the functor
\begin{align*}
    \check{C}^q(\mathcal{U},-) \colon \Fun(\Open(X)^\op,\Ab) \to \Ab
\end{align*}
is exact (subtlety: its restriction to $\Ab(X)$ is not necessarily exact, because $\Ab(X)$ has a different notion of exactness than the presheaf category!). A diagram chase then implies we get a long exact sequence on $\check{H}^\ast(\mathcal{U},-)$. Then we take a colimit over all $\mathcal{U}$ in the filtered category of covers $\Cov(X)$, and use that filtered colimits preserve exactness to conclude (\Cref{exa:CovX-filtered} and \Cref{cor:filtered-colimits-preserve-exactness}). The details are spelled out in \cite[pp.~28--29]{Hirzebruch}.
\end{proof}

This begs a very interesting question --- when do the \v{C}ech cohomology of a presheaf $F$ and of its sheafification $F^\sharp$ agree? We need two preliminary results to lead up to a partial answer to this question.

\begin{proposition}\label{prop:property-of-pshf-sheafifying-to-zero} 
Let $F$ be a presheaf over a space, and suppose $F^\sharp = 0$. For any point $x\in X$, any open $U\ni x$ and any $f\in F(U)$, there exists some smaller open neighborhood $V \subseteq U$ containing $x$ for which $f_{|V} = 0$. 
\end{proposition}
\begin{proof} This is because the stalk $F_x = F^\sharp_x$ must be zero.
\end{proof}



\begin{lemma}\label{lem:presheaf-sheafifying-to-zero-has-no-cohomology} 
Let $X$ be a paracompact space, and $F$ a presheaf on $X$. Then if $F^\sharp$ is the zero sheaf, we claim that $\check{H}^n(X,F) = 0$ for all $n\ge0$.
\end{lemma}
\begin{proof} We show that no cochains survive refinement. That is, if $f \in \check{C}^q(\mathcal{U},F)$ for some cover $\mathcal{U} = \{U_i\}_{i\in I}$, we will find a refinement of the cover which kills $f$. Without loss of generality assume that $\mathcal{U}$ is locally finite. By the Dieudonn\'e shrinking theorem (\Cref{thm:shrinking}), we may find a cover $\mathcal{W} = \left\{ W_i \right\}_{i\in I}$ for which $\overline{W_i} \subseteq U_i$.

Let $J = X$ as a set--- we will produce a refinement of the cover $\mathcal{U}$, now indexed over $J$. For each $x\in X$, we pick an open neighborhood $V_x \ni x$ for which:
\begin{itemize}
    \item if $x\in U_i$ then $V_x \subseteq U_i$ and if $x\in W_i$ then $V_x \subseteq W_i$
    \item if $V_x \cap W_i \ne \emptyset$ then $V_x \subseteq U_i$
    \item if $x\in U_{i_0} \cap \cdots \cap U_{i_q}$ then $f(i_0, \ldots, i_q)$ restricts to zero in $F(V_x)$.
\end{itemize}
Since $\mathcal{U}$ and $\mathcal{W}$ are locally finite, there are only finitely many $U_i$ and $W_i$ containing $x$ to worry about, so the first two conditions can be fulfilled. Why are we allowed to guarantee the last condition can hold? By \Cref{prop:property-of-pshf-sheafifying-to-zero} some sufficiently small neighborhood of $x$ in $U_{i_0} \cap \cdots \cap U_{i_q}$ will have the property that $f(i_0, \ldots, i_q)$ restricts to zero in it. We can pick $V_x$ to be that neighborhood, perhaps intersecting it further finitely many times to make it satisfy the first two conditions.

We now claim that $f$ refines to zero in this new cover $\left\{ V_x \right\}_{x\in X}$. Pick any tuple $(x_0, \ldots, x_q)$, and let $i_j$ be such that $x_j \in W_{i_j} \subseteq U_{i_j}$ for each $j$. By (1), this tells us that $V_{x_j} \subseteq W_{i_j} \subseteq U_{i_j}$. We want to argue that the image of $f(i_0, \ldots, i_p)$ under the restriction map
\begin{align*}
    F(U_{i_0} \cap \cdots \cap U_{i_q}) \to F(V_{x_0}\cap \cdots \cap V_{x_q})
\end{align*}
is zero. If the intersection of the $V_{x_i}$'s is empty, there is nothing to show, so suppose it is nonempty. Then $V_{x_0}\cap V_{x_k}$ is nonempty for each $k$. Since $V_{x_k} \subseteq W_{i_k}$, we have that $V_{x_0} \cap W_{i_k} \ne \emptyset$, and by point (2) this implies that $V_{x_0} \subseteq U_{i_k}$. Since this is true for all $k$, we have that $V_{x_0} \subseteq U_{i_0} \cap \cdots \cap U_{i_q}$. However by (3), we have that $f(i_0, \ldots, i_q)$ restricts to zero on $V_x$ and therefore on the smaller subset $V_{x_0} \cap \cdots \cap V_{x_q}$.
\end{proof}


\begin{theorem}\label{thm:paracompact-space-Cech-cohomology-of-sheafification} 
If $X$ is paracompact, and $F$ is a presheaf with corresponding sheaf $F^\sharp$, then the natural map $\check{H}^q(X,F) \to \check{H}^q(X,F^\sharp)$ is an isomorphism for all $q\ge0$.
\end{theorem}
\begin{proof} Consider the sheafification map $F \to F^\sharp$ and take its kernel and cokernel in the category of presheaves
\begin{align*}
    0 \to K \to F \to F^\sharp \to C \to 0.
\end{align*}
As $F \to F^\sharp$ sheafifies to an isomorphism, and since sheafification is an exact functor, we have that $K$ and $C$ sheafify to zero. Hence their higher cohomology vanishes by \Cref{lem:presheaf-sheafifying-to-zero-has-no-cohomology}, and using the long exact sequence on cohomology attached to short exact sequences of presheaves, we obtain that the induced maps $\check{H}^q(X,F) \to \check{H}^q(X,F^\sharp)$ are all isomorphisms.
\end{proof}

So over paracompact spaces, there is no difference between the cohomology of a presheaf and of its resulting sheafification. A corollary of this we will use often is the following:

\begin{proposition}\label{prop:LES-Cech-cohomology}
If $X$ is a paracompact space, and $0 \to F_1 \to F_2 \to F_3 \to 0$ is an exact sequence of \emph{sheaves} on $X$, then it induces a long exact sequence
\begin{align*}
    0 \to \check{H}^0(X,F_1) \to \check{H}^0(X,F_2) \to \check{H}^0(X,F_3) \to \check{H}^1(X,F_1) \to \cdots
\end{align*}
\end{proposition}
\begin{proof} Combine \Cref{prop:LES-Cech-cohomology-presheaves} and \Cref{thm:paracompact-space-Cech-cohomology-of-sheafification}.
\end{proof}



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\newpage
\appendix
\section{Point-set topology}

\begin{definition} A \emph{paracompact space} is a space for which every open cover admits an open refinement which is \emph{locally finite} (each point in the space intersects only most finitely many of the spaces in the refinement).
\end{definition}
This is strictly weaker than being compact, since compactness requires the entire cover to be finite, not just locally finite.

\begin{example} Euclidean space $\R^n$ is paracompact but not compact.
\end{example}


\begin{theorem}[{Dieudonn\'e, \cite[2.8.2]{Hirzebruch}}] Every locally compact space with a countable basis is paracompact.
\end{theorem}


\subsection{Normal spaces}

The idea of a \emph{normal} space can be thought of (loosely) as a strengthening of the Hausdorff condition. On $T_1$-spaces (spaces in which singletons are closed) this is a literal strengthening of the Hausdorff condition -- it says that not only can \emph{points} be separated by open neighborhoods, actually any disjoint \emph{closed subspaces} can be separated by open neighborhoods.

\begin{definition}\label{def:normal}
A space is \emph{normal} if any two disjoint closed subsets can be separated by disjoint open neighborhoods. Explicitly if $Z_1,Z_2 \subseteq X$ are each closed and $Z_1 \cap Z_2 = \emptyset$, then there exist open subspaces $U_1 \supseteq Z_1$ and $U_2 \supseteq Z_2$ so that $U_1 \cap U_2 = \emptyset$.
\end{definition}


\begin{theorem}[{Dieudonn\'e, \cite[2.8.1]{Hirzebruch}}] Every paracompact space is \emph{normal}.
\end{theorem}


In particular since our manifolds are Hausdorff with countable bases, they are in particular normal.

\begin{lemma}[Urysohn's lemma]
\label{lem:urysohn} 
A space $X$ is normal if and only if, for every two disjoint closed subsets $A,B \subseteq X$, there exists a continuous function
\begin{align*}
    f \colon X \to [0,1]
\end{align*}
so that $f(A) =0$ and $f(B) =1$.
\end{lemma}







The following crucial result implies that, over a normal space, locally finite covers can always be ``shrunk.'' It is a crucial ingredient for the existence of partitions of unity.

\begin{theorem}[{Shrinking theorem, \cite[2.8.3]{Hirzebruch}}]
\label{thm:shrinking}
Let $X$ be normal, and $\left\{ U_i \right\}_{i\in I}$ a locally finite\footnote{Hirzebruch says \emph{point finite}.} cover. Then $X$ admits an open cover $\left\{ V_i \right\}_{i\in I}$, indexed over the same set, so that $\overline{V_i} \subseteq U_i$.
\end{theorem}




\begin{definition}\label{def:partition-of-unity} 
Let $\left\{ U_i \right\}_{i\in I}$ be an open cover of a space $X$. We say that a system of continuous functions $\left\{ \phi_i \colon X \to \R \right\}_{i\in I}$ is a \emph{partition of unity subordinate to} the cover if:
\begin{enumerate}
    \item $\phi_i(x) \ge 0$ for all $x\in X$
    \item $\supp(\phi_i) \subseteq U_i$
    \item Each point has an open neighborhood meeting $\supp(\phi_i)$ for only finitely many $i\in I$
    \item We have that
    \begin{align*}
        \sum_{i\in I}\phi_i(x) = x
    \end{align*}
    for all $x\in X$. Note that sum is defined because of the previous point.
\end{enumerate}
\end{definition}

\begin{definition}\label{def:numerable-open-cover}
We say an open cover of a space is \emph{numerable} if it admits a subordinate partition of unity. We say a fiber bundle is \emph{numerable} if the base admits a numerable cover over which the total space is trivialized \cite[7.1]{doldPartitionsUnityTheory1963}.
\end{definition}



\begin{theorem}\label{thm:paracompact-partition-unity} 
A space is paracompact if and only if it is Hausdorff and every open cover admits a partition of unity.
\end{theorem}
\begin{proof} For a proof see \cite[pp.~30--31]{Hirzebruch}.
\end{proof}

The following result is originally due to Stone? An elegant reproof is due to Mary Ellen Rudin in the 60's. We can find the following in \cite[41.4]{Munkres}, for instance.

\begin{theorem}\label{thm:metric-space-paracompact} Every metric space is paracompact.
\end{theorem}

Another crucial example is that CW complexes are paracompact. Miyazaki, Dugundji, Bourgin all separately proved in 1952 that simplicial complexes were paracompact. Miyazaki shortly thereafter extended this result to all CW complexes

\begin{theorem}[{\cite{miyazakiParacompactnessCWcomplexes1952}}]
\label{thm:miyazaki}
Every CW complex is paracompact.
\end{theorem}
\begin{proof}[Sketch] There's a nice outline on the nLab -- we can induct on the skeleton, leveraging that disks and spheres are paracompact, and that paracompact Hausdorff spaces are closed under coproducts and pushouts along closed embeddings.
\end{proof}

\newpage
\section{Category theory}
If you are unfamiliar with colimits I really recommend reading Chapter 3 of \cite{riehlCategoryTheoryContext2016}.

\subsection{Filtered colimits}

\begin{definition} A category is \emph{filtered} if every finite diagram admits a cocone. Dually a category $\mathscr{C}$ is \emph{cofiltered} if every finite diagram admits a cone.
\end{definition}

\begin{example}\label{exa:OpenX-filtered} The category $\Open(X)$ is cofiltered.
\end{example}
\begin{proof} We don't have to worry about morphisms commuting, so it suffices to see, for finitely many $U_1, \ldots, U_n\in \Open(X)$, there is a $U$ mapping to them. Clearly we can take $U = U_1\cap \cdots \cap U_n$.
\end{proof}
\begin{example}\label{exa:OpenX-containing-x-filtered} For $x\in X$, the category of open subspaces of $X$ containing $x$ is cofiltered.
\end{example}


\begin{example}\label{exa:CovX-filtered} For a space $X$, the category $\Cov(X)$ of open covers under refinement (defined in \Cref{def:covV}) is cofiltered. This is precisely the assertion that two covers admit a common refinement, and therefore by induction finitely many covers admit a common refinement.
\end{example}

The important thing about filtered categories is that colimits computed over them are very well behaved.

\begin{proposition} Filtered colimits valued in $\Set$ or $\Ab$ or any other reasonable concrete category (see \href{https://math.stackexchange.com/a/2143601}{SE2143601} for details for instance) commute with finite limits.
\end{proposition}

\begin{corollary} Filtered colimits (valued in $\Ab$, let's say) preserve monomorphisms.
\end{corollary}
\begin{proof} The property of a morphism $f \colon x \to y$ being a monomorphism is equivalent to the statement that the diagram
\[ \begin{tikzcd}
    x\rar["\id"]\dar["\id" left]\pb & x\dar["f" right]\\
    x\rar["f" below] & y
\end{tikzcd} \]
is a pullback. This is a finite limit, hence commutes with filtered colimits.
\end{proof}

An interesting question in the setting of abelian categories is the interaction between exactness and filtered colimits. Indeed exactness of filtered colimits is a consequence of Grothendieck's axiom AB5 for abelian categories \cite[1.8.1]{Tohoku}. We will leverage the following corollary a handful of times:

\begin{corollary}\label{cor:filtered-colimits-preserve-exactness} 
Let $\mathcal{A}$ be an abelian category, and let $\Fun^\ex(\mathcal{A},\Ab)$ be the full subcategory of exact functors from $\mathcal{A}$ to abelian groups. Then $\Fun^\ex(\mathcal{A},\Ab)$ is preserved under filtered colimits.
\end{corollary}
\begin{proof} Filtered colimits in this category are computed levelwise, hence they commute with finite limits. Being right exact is a colimit, hence commutes with (filtered) colimits in any context. Being left exact is a pullback condition, hence a finite limit, and therefore commutes with filtered colimits.
\end{proof}

As a remark, this is not true if the colimits are not filtered, as illustrated by the following example:

\begin{example} Let $F = \id_\Ab \colon \Ab \to \Ab$ be the (clearly exact) identity functor on the category of abelian groups, and consider the (non-filtered!) equalizer diagram
\begin{align*}
    0,2 \colon F \rightrightarrows F,
\end{align*}
where $0$ is the natural transformation given levelwise by the zero homomorphism, and $2$ is multiplication by $2$. Then we have that the colimit of this diagram is computed by the pointwise coequalizer of $0$ and $2$. In particular if $C \colon \Ab \to \Ab$ is the colimit of the above diagram, then
\begin{align*}
    C(A) = A/2A
\end{align*}
for every abelian group $A$. But this is not an exact functor $\Ab \to \Ab$.
\end{example}


\subsection{Cofinality}

\begin{definition}\label{def:cofinal} Let $J$ be a category, and $I \subseteq J$ a subcategory. We say $I \subset J$ is \emph{cofinal} if, for any functor $F \colon J \to \mathscr{C}$, the induced map on colimits
\begin{align*}
    \colim_I F \to \colim_J F
\end{align*}
is an isomorphism in $\mathscr{C}$. We say $I \subseteq J$ is \emph{final} if $I^\op \subseteq J^\op$ is cofinal.
\end{definition}

The key reductive step of the Poincar\'e lemma relies on a recognition of cofinality (really finality, but the category gets ``opped'' when we take a contravariant functor out of it):

\begin{proposition}\label{prop:manifold-stalk-cofinal-system} Let $M$ be an $n$-dimensional manifold and let $x\in M$ be an arbitrary point. Then the category of open sets of $M$ containing $x$ admits a final system given by those open sets $U \subseteq M$ so that $U\ni x$ \emph{and} $U$ is homeomorphic to $\R^n$.
\end{proposition}
\begin{proof} Fix a chart $(U_0,\phi)$ around $x$. For any $V \ni x$ open, we can intersect it with the chart to get $V \cap U_0$. In the image $\phi(V\cap U_0)$ we can find some open ball containing $\phi(x)$, and the preimage of this in $M$ is both homeomorphic to $\R^n$ and contained in $V$.
\end{proof}

The following result is a categorical rephrasing of an important result in differential topology. Before we can phrase it we need a definition.

\begin{definition}\label{def:good-cover} Let $\mathcal{U}$ be an open cover of $X$. We say that it is a \emph{good cover} if all the $U\in \mathcal{U}$ and all the nonempty intersections of finitely many elements in $\mathcal{U}$ are contractible spaces.
\end{definition}

\begin{proposition}\label{prop:good-covers-final-in-covers-on-mfld} Let $M$ be a Riemannian manifold, and denote by $\Cov^\text{good}(M)$ the category of good open covers of $M$. Then $\Cov^\text{good}(M) \subseteq \Cov(M)$ is a final subcategory.
\end{proposition}
\begin{proof} The content of this is showing every cover refines to a good one. Fix a cover $\mathcal{U}$ of $M$, and now pick any point $x\in M$, and any $U \ni x$. Since every point on a Riemannian manifold admits a positive convexity radius, we can obtain a geodesically convex neighborhood around each point, and by potentially shrinking the radius we may assume it is contained in $U$. This is clearly convex, and it yields a good cover since the intersection of geodesically convex spaces is geodesically convex, hence contractible.
\end{proof}

In particular, any colimiting construction we want to pursue over covers of a Riemannian manifold can be reduced to good open covers.

A wild fun fact is that the poset of open sets and refinement for a good cover can be used to recover the homotopy type of the manifold (or space) you started out with! This is the content of the \emph{nerve lemma}.





%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\bibliography{zbib.bib}
\bibliographystyle{amsalpha}
\end{document}
